package com.xiaoguang.selecttextview;

import android.os.Bundle;
import android.view.MotionEvent;

import androidx.appcompat.app.AppCompatActivity;
import androidx.recyclerview.widget.LinearLayoutManager;
import androidx.recyclerview.widget.RecyclerView;

import com.xiaoguang.selecttext.SelectTextHelper;

import java.util.ArrayList;
import java.util.List;

public class MainActivity extends AppCompatActivity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        SelectTextHelper.emojiMap.put("\\[笑脸\\]", R.drawable.emoji_00);
        SelectTextHelper.emojiMap.put("\\[瘪嘴\\]", R.drawable.emoji_01);
        SelectTextHelper.emojiMap.put("\\[色\\]", R.drawable.emoji_02);
        SelectTextHelper.emojiMap.put("\\[瞪眼\\]", R.drawable.emoji_03);
        SelectTextHelper.emojiMap.put("\\[酷\\]", R.drawable.emoji_04);

        // todo 一：展示在列表中自由复制、双击查看文本
        RecyclerView rv_msg = findViewById(R.id.rv_msg);
        LinearLayoutManager linearLayoutManager = new LinearLayoutManager(this, LinearLayoutManager.VERTICAL, false);
        rv_msg.setLayoutManager(linearLayoutManager);
        List<MsgBean> mList = new ArrayList<>();
        addList(mList);
        MsgAdapter adapter = new MsgAdapter(this, mList);
        rv_msg.setAdapter(adapter);

        // todo 二：展示查看文本
        // SelectTextDialog dialog = new SelectTextDialog(this, TEXT);
        // dialog.show();
    }

    @Override
    protected void onDestroy() {
        super.onDestroy();
        SelectTextEventBus.getDefault().unregister();
    }

    @Override
    public boolean dispatchTouchEvent(MotionEvent ev) {
        if (ev.getAction() == MotionEvent.ACTION_DOWN) {
            SelectTextEventBus.getDefault().dispatch(new SelectTextEvent("dismissAllPopDelayed"));
        }
        return super.dispatchTouchEvent(ev);
    }


    private void addList(List<MsgBean> mList) {
        // 1：文本、2：图片、3：链接
        mList.add(new MsgBean(1, true, TEXT1));
        mList.add(new MsgBean(2, false, IMG1));
        mList.add(new MsgBean(3, true, LINK1));
        mList.add(new MsgBean(1, false, TEXT2));
        mList.add(new MsgBean(1, true, TEXT3));
        mList.add(new MsgBean(1, false, TEXT4));
        mList.add(new MsgBean(1, true, TEXT5));
        mList.add(new MsgBean(1, false, TEXT));
        mList.add(new MsgBean(1, true, TEXT6));
        mList.add(new MsgBean(1, false, TEXT7));
        mList.add(new MsgBean(1, true, TEXT8));
    }

    public static String TEXT1 = "www.baidu.com Android 12是Google研发的操作系统，于2021年5月19日凌晨发布。";
    public static String TEXT2 = "https://github.com/13245679";
    public static String TEXT3 = "[笑脸]笑脸表情[瘪嘴]瘪嘴表情[色]色表情Google研发的操作系是Google研发的操作系";
    public static String TEXT4 = "Andr[色]色表情oid 12是\uD83D\uDE00\uD83D\uDE01\uD83D\uDE02\uD83D\uDE03\uD83D\uDE04\uD83D\uDE05Google研发的操作系统，https://developer.android.google.cn/";
    public static String TEXT5 = "Android [瞪眼]12通过\uD83D\uDC0A\uD83D\uDC22\uD83D\uDC0D\uD83D\uDC32\uD83D\uDC09\uD83D\uDC33\uD83D\uDC0B\uD83D\uDC2C\uD83D\uDC1F\uD83D\uDC20\uD83D\uDC21\uD83D\uDC19\uD83D\uDC1A\uD83D\uDC0C\uD83D\uDC1B\uD83D\uDC1C\uD83D\uDC1D\uD83D\uDC1E\uD83E\uDD8B\uD83D\uDC90\uD83C\uDF38\uD83D\uDCAE\uD83C\uDF39\uD83C\uDF3A\uD83C\uDF3B\uD83C\uDF3C\uD83C\uDF37\uD83C\uDF31\uD83C\uDF32\uD83C\uDF33\uD83C\uDF34\uD83C\uDF35\uD83C\uDF3E\uD83C\uDF3F\uD83C\uDF40\uD83C\uDF41\uD83C\uDF42\uD83C\uDF43\uD83C\uDF0D\uD83C\uDF0E\uD83C\uDF0F\uD83C\uDF10\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF19\uD83C\uDF1A引入设计语言Material You，用户将能够通过自定义调色板和重新设计的小工具来完全个性化自己的手机。利用颜色提取，用户可以选择自己的壁纸，系统会自动确定适合用户的颜色设置。然后，可以将这些颜色应用于整个操作系统，包括通知栏、锁屏、音量控制、新的小工具等";
    public static String TEXT6 = "Beta 版 \uD83D\uDD14\uD83D\uDD15✡✝\uD83D\uDD2F\uD83D\uDCDB\uD83D\uDD30\uD83D\uDD31⭕✅☑✔✖❌❎➕➖➗➰➿〽✳✴❇‼⁉❓❔❕❗©®™\uD83C\uDFA6\uD83D\uDD05\uD83D\uDD06\uD83D\uDCAF\uD83D\uDD20\uD83D\uDD21\uD83D\uDD22\uD83D\uDD23\uD83D\uDD24\uD83C\uDD70\uD83C\uDD8E\uD83C\uDD71\uD83C\uDD91\uD83C\uDD92\uD83C\uDD93ℹ\uD83C\uDD94Ⓜ\uD83C\uDD95\uD83C\uDD96\uD83C\uDD7E\uD83C\uDD97\uD83C\uDD7F\uD83C\uDD98\uD83C\uDD99\uD83C\uDD9A\uD83C\uDE01\uD83C\uDE02\uD83C\uDE37\uD83C\uDE362 现已推出，其中包含最新功能和变更，供您在应用中试用。如需开始使用，请先获取 Beta 版并更新您的工具。Android 12 Beta 版现已面向用户和开发者推出，请务必测试您的应用是否兼容，并根据需要发布任何相关更新。欢迎试用新功能，并通过我们的问题跟踪器分享反馈。";
    public static String TEXT7 = "为了在 Android 12 上提供针对短时间运行的前台服务的流畅体验，系统可以为某些前台服务延迟 10 秒显示前台服务通知。此更改使某些短期任务在显示通知之前完成。[酷]";
    public static String TEXT8 = "提供更\uD83C\uDE35\uD83D\uDD34\uD83D\uDFE0\uD83D\uDFE1\uD83D\uDFE2\uD83D\uDD35\uD83D\uDFE3\uD83D\uDFE4⚫⚪\uD83D\uDFE5\uD83D\uDFE7\uD83D\uDFE8\uD83D\uDFE9\uD83D\uDFE6\uD83D\uDFEA\uD83D\uDFEB⬛⬜◼️◻️◾◽▪️▫️\uD83D\uDD36\uD83D\uDD37\uD83D\uDD38\uD83D\uDD39\uD83D\uDD3A\uD83D\uDD3B\uD83D\uDCA0\uD83D\uDD18\uD83D\uDD33\uD83D\uDD32\uD83C\uDFC1\uD83D\uDEA9\uD83C\uDF8C\uD83C\uDFF4\uD83C\uDFF3️\uD83C\uDFF3️\u200D\uD83C\uDF08\uD83C\uDFF3️\u200D⚧️\uD83C\uDFF4\u200D☠️\uD83C\uDDE6\uD83C\uDDE8\uD83C\uDDE6\uD83C\uDDE9\uD83C\uDDE6\uD83C\uDDEA\uD83C\uDDE6\uD83C\uDDEB\uD83C\uDDE6\uD83C\uDDEC\uD83C\uDDE6\uD83C\uDDEE\uD83C\uDDE6\uD83C\uDDF1\uD83C\uDDE6\uD83C\uDDF2\uD83C\uDDE6\uD83C\uDDF4\uD83C\uDDE6\uD83C\uDDF6\uD83C\uDDE6\uD83C\uDDF7\uD83C\uDDE6\uD83C\uDDF8\uD83C\uDDE6\uD83C\uDDF9\uD83C\uDDE6\uD83C\uDDFA\uD83C\uDDE6\uD83C\uDDFC\uD83C\uDDE6\uD83C\uDDFD\uD83C\uDDE6\uD83C\uDDFF\uD83C\uDDE7\uD83C\uDDE6\uD83C\uDDE7\uD83C\uDDE7\uD83C\uDDE7\uD83C\uDDE9\uD83C\uDDE7\uD83C\uDDEA\uD83C\uDDE7\uD83C\uDDEB\uD83C\uDDE7\uD83C\uDDEC\uD83C\uDDE7\uD83C\uDDED\uD83C\uDDE7\uD83C\uDDEE\uD83C\uDDE7\uD83C\uDDEF\uD83C\uDDE7\uD83C\uDDF1\uD83C\uDDE7\uD83C\uDDF2\uD83C\uDDE7\uD83C\uDDF3\uD83C\uDDE7\uD83C\uDDF4\uD83C\uDDE7\uD83C\uDDF6\uD83C\uDDE7\uD83C\uDDF7\uD83C\uDDE7\uD83C\uDDF8\uD83C\uDDE7\uD83C\uDDF9\uD83C\uDDE7\uD83C\uDDFB\uD83C\uDDE7\uD83C\uDDFC\uD83C\uDDE7\uD83C\uDDFE\uD83C\uDDE7\uD83C\uDDFF\uD83C\uDDE8\uD83C\uDDE6\uD83C\uDDE8\uD83C\uDDE8\uD83C\uDDE8\uD83C\uDDE9\uD83C\uDDE8\uD83C\uDDEB\uD83C\uDDE8\uD83C\uDDEC\uD83C\uDDE8\uD83C\uDDED\uD83C\uDDE8\uD83C\uDDEE\uD83C\uDDE8\uD83C\uDDF0\uD83C\uDDE8\uD83C\uDDF1\uD83C\uDDE8\uD83C\uDDF2\uD83C\uDDE8\uD83C\uDDF3\uD83C\uDDE8\uD83C\uDDF4\uD83C\uDDE8\uD83C\uDDF5\uD83C\uDDE8\uD83C\uDDF7\uD83C\uDDE8\uD83C\uDDFA\uD83C\uDDE8\uD83C\uDDFB\uD83C\uDDE8\uD83C\uDDFC\uD83C\uDDE8\uD83C\uDDFD\uD83C\uDDE8\uD83C\uDDFE\uD83C\uDDE8\uD83C\uDDFF\uD83C\uDDE9\uD83C\uDDEA\uD83C\uDDE9\uD83C\uDDEC\uD83C\uDDE9\uD83C\uDDEF\uD83C\uDDE9\uD83C\uDDF0\uD83C\uDDE9\uD83C\uDDF2\uD83C\uDDE9\uD83C\uDDF4\uD83C\uDDE9\uD83C\uDDFF\uD83C\uDDEA\uD83C\uDDE6\uD83C\uDDEA\uD83C\uDDE8\uD83C\uDDEA\uD83C\uDDEA\uD83C\uDDEA\uD83C\uDDEC\uD83C\uDDEA\uD83C\uDDED\uD83C\uDDEA\uD83C\uDDF7\uD83C\uDDEA\uD83C\uDDF8\uD83C\uDDEA\uD83C\uDDF9\uD83C\uDDEA\uD83C\uDDFA\uD83C\uDDEB\uD83C\uDDEE\uD83C\uDDEB\uD83C\uDDEF\uD83C\uDDEB\uD83C\uDDF0\uD83C\uDDEB\uD83C\uDDF2\uD83C\uDDEB\uD83C\uDDF4\uD83C\uDDEB\uD83C\uDDF7\uD83C\uDDEC\uD83C\uDDE6\uD83C\uDDEC\uD83C\uDDE7\uD83C\uDDEC\uD83C\uDDE9\uD83C\uDDEC\uD83C\uDDEA\uD83C\uDDEC\uD83C\uDDEB\uD83C\uDDEC\uD83C\uDDEC\uD83C\uDDEC\uD83C\uDDED\uD83C\uDDEC\uD83C\uDDEE\uD83C\uDDEC\uD83C\uDDF1\uD83C\uDDEC\uD83C\uDDF2\uD83C\uDDEC\uD83C\uDDF3\uD83C\uDDEC\uD83C\uDDF5\uD83C\uDDEC\uD83C\uDDF6\uD83C\uDDEC\uD83C\uDDF7\uD83C\uDDEC\uD83C\uDDF8\uD83C\uDDEC\uD83C\uDDF9\uD83C\uDDEC\uD83C\uDDFA\uD83C\uDDEC\uD83C\uDDFC\uD83C\uDDEC\uD83C\uDDFE\uD83C\uDDED\uD83C\uDDF0\uD83C\uDDED\uD83C\uDDF2\uD83C\uDDED\uD83C\uDDF3\uD83C\uDDED\uD83C\uDDF7\uD83C\uDDED\uD83C\uDDF9\uD83C\uDDED\uD83C\uDDFA\uD83C\uDDEE\uD83C\uDDE8\uD83C\uDDEE\uD83C\uDDE9\uD83C\uDDEE\uD83C\uDDEA\uD83C\uDDEE\uD83C\uDDF1\uD83C\uDDEE\uD83C\uDDF2\uD83C\uDDEE\uD83C\uDDF3\uD83C\uDDEE\uD83C\uDDF4\uD83C\uDDEE\uD83C\uDDF6\uD83C\uDDEE\uD83C\uDDF7\uD83C\uDDEE\uD83C\uDDF8\uD83C\uDDEE\uD83C\uDDF9\uD83C\uDDEF\uD83C\uDDEA\uD83C\uDDEF\uD83C\uDDF2\uD83C\uDDEF\uD83C\uDDF4\uD83C\uDDEF\uD83C\uDDF5\uD83C\uDDF0\uD83C\uDDEA\uD83C\uDDF0\uD83C\uDDEC\uD83C\uDDF0\uD83C\uDDED\uD83C\uDDF0\uD83C\uDDEE\uD83C\uDDF0\uD83C\uDDF2\uD83C\uDDF0\uD83C\uDDF3\uD83C\uDDF0\uD83C\uDDF5\uD83C\uDDF0\uD83C\uDDF7\uD83C\uDDF0\uD83C\uDDFC\uD83C\uDDF0\uD83C\uDDFE\uD83C\uDDF0\uD83C\uDDFF\uD83C\uDDF1\uD83C\uDDE6\uD83C\uDDF1\uD83C\uDDE7\uD83C\uDDF1\uD83C\uDDE8\uD83C\uDDF1\uD83C\uDDEE\uD83C\uDDF1\uD83C\uDDF0\uD83C\uDDF1\uD83C\uDDF7\uD83C\uDDF1\uD83C\uDDF8\uD83C\uDDF1\uD83C\uDDF9\uD83C\uDDF1\uD83C\uDDFA\uD83C\uDDF1\uD83C\uDDFB\uD83C\uDDF1\uD83C\uDDFE\uD83C\uDDF2\uD83C\uDDE6\uD83C\uDDF2\uD83C\uDDE8\uD83C\uDDF2\uD83C\uDDE9\uD83C\uDDF2\uD83C\uDDEA\uD83C\uDDF2\uD83C\uDDEB\uD83C\uDDF2\uD83C\uDDEC\uD83C\uDDF2\uD83C\uDDED\uD83C\uDDF2\uD83C\uDDF0\uD83C\uDDF2\uD83C\uDDF1\uD83C\uDDF2\uD83C\uDDF2\uD83C\uDDF2\uD83C\uDDF3\uD83C\uDDF2\uD83C\uDDF4\uD83C\uDDF2\uD83C\uDDF5\uD83C\uDDF2\uD83C\uDDF6\uD83C\uDDF2\uD83C\uDDF7\uD83C\uDDF2\uD83C\uDDF8\uD83C\uDDF2\uD83C\uDDF9\uD83C\uDDF2\uD83C\uDDFA\uD83C\uDDF2\uD83C\uDDFB\uD83C\uDDF2\uD83C\uDDFC\uD83C\uDDF2\uD83C\uDDFD\uD83C\uDDF2\uD83C\uDDFE\uD83C\uDDF2\uD83C\uDDFF\uD83C\uDDF3\uD83C\uDDE6\uD83C\uDDF3\uD83C\uDDE8\uD83C\uDDF3\uD83C\uDDEA\uD83C\uDDF3\uD83C\uDDEB\uD83C\uDDF3\uD83C\uDDEC\uD83C\uDDF3\uD83C\uDDEE\uD83C\uDDF3\uD83C\uDDF1\uD83C\uDDF3\uD83C\uDDF4\uD83C\uDDF3\uD83C\uDDF5\uD83C\uDDF3\uD83C\uDDF7\uD83C\uDDF3\uD83C\uDDFA\uD83C\uDDF3\uD83C\uDDFF\uD83C\uDDF4\uD83C\uDDF2\uD83C\uDDF5\uD83C\uDDE6\uD83C\uDDF5\uD83C\uDDEA\uD83C\uDDF5\uD83C\uDDEB\uD83C\uDDF5\uD83C\uDDEC\uD83C\uDDF5\uD83C\uDDED\uD83C\uDDF5\uD83C\uDDF0\uD83C\uDDF5\uD83C\uDDF1\uD83C\uDDF5\uD83C\uDDF2\uD83C\uDDF5\uD83C\uDDF3\uD83C\uDDF5\uD83C\uDDF7\uD83C\uDDF5\uD83C\uDDF8\uD83C\uDDF5\uD83C\uDDF9\uD83C\uDDF5\uD83C\uDDFC\uD83C\uDDF5\uD83C\uDDFE\uD83C\uDDF6\uD83C\uDDE6\uD83C\uDDF7\uD83C\uDDEA\uD83C\uDDF7\uD83C\uDDF4\uD83C\uDDF7\uD83C\uDDF8\uD83C\uDDF7\uD83C\uDDFA\uD83C\uDDF7\uD83C\uDDFC\uD83C\uDDF8\uD83C\uDDE6\uD83C\uDDF8\uD83C\uDDE7\uD83C\uDDF8\uD83C\uDDE8\uD83C\uDDF8\uD83C\uDDE9\uD83C\uDDF8\uD83C\uDDEA\uD83C\uDDF8\uD83C\uDDEC\uD83C\uDDF8\uD83C\uDDED\uD83C\uDDF8\uD83C\uDDEE\uD83C\uDDF8\uD83C\uDDEF\uD83C\uDDF8\uD83C\uDDF0\uD83C\uDDF8\uD83C\uDDF1\uD83C\uDDF8\uD83C\uDDF2\uD83C\uDDF8\uD83C\uDDF3\uD83C\uDDF8\uD83C\uDDF4\uD83C\uDDF8\uD83C\uDDF7\uD83C\uDDF8\uD83C\uDDF8\uD83C\uDDF8\uD83C\uDDF9\uD83C\uDDF8\uD83C\uDDFB\uD83C\uDDF8\uD83C\uDDFD\uD83C\uDDF8\uD83C\uDDFE\uD83C\uDDF8\uD83C\uDDFF\uD83C\uDDF9\uD83C\uDDE6\uD83C\uDDF9\uD83C\uDDE8\uD83C\uDDF9\uD83C\uDDE9\uD83C\uDDF9\uD83C\uDDEB\uD83C\uDDF9\uD83C\uDDEC\uD83C\uDDF9\uD83C\uDDED\uD83C\uDDF9\uD83C\uDDEF\uD83C\uDDF9\uD83C\uDDF0\uD83C\uDDF9\uD83C\uDDF1\uD83C\uDDF9\uD83C\uDDF2\uD83C\uDDF9\uD83C\uDDF3\uD83C\uDDF9\uD83C\uDDF4\uD83C\uDDF9\uD83C\uDDF7\uD83C\uDDF9\uD83C\uDDF9\uD83C\uDDF9\uD83C\uDDFB\uD83C\uDDF9\uD83C\uDDFC\uD83C\uDDF9\uD83C\uDDFF\uD83C\uDDFA\uD83C\uDDE6\uD83C\uDDFA\uD83C\uDDEC\uD83C\uDDFA\uD83C\uDDF2\uD83C\uDDFA\uD83C\uDDF3\uD83C\uDDFA\uD83C\uDDF8\uD83C\uDDFA\uD83C\uDDFE\uD83C\uDDFA\uD83C\uDDFF\uD83C\uDDFB\uD83C\uDDE6\uD83C\uDDFB\uD83C\uDDE8\uD83C\uDDFB\uD83C\uDDEA\uD83C\uDDFB\uD83C\uDDEC\uD83C\uDDFB\uD83C\uDDEE\uD83C\uDDFB\uD83C\uDDF3\uD83C\uDDFB\uD83C\uDDFA\uD83C\uDDFC\uD83C\uDDEB\uD83C\uDDFC\uD83C\uDDF8\uD83C\uDDFD\uD83C\uDDF0\uD83C\uDDFE\uD83C\uDDEA\uD83C\uDDFE\uD83C\uDDF9\uD83C\uDDFF\uD83C\uDDE6\uD83C\uDDFF\uD83C\uDDF2\uD83C\uDDFF\uD83C\uDDFC\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67\uDB40\uDC7F\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74\uDB40\uDC7F\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73\uDB40\uDC7F\uD83C\uDFF4\uDB40\uDC75\uDB40\uDC73\uDB40\uDC74\uDB40\uDC78\uDB40\uDC7F\uDB40\uDC75\uDB40\uDC73\uDB40\uDC74\uDB40\uDC78\uDB40\uDC7F \uDB40\uDC75\uDB40\uDC73\uDB40\uDC74\uDB40\uDC78\uDB40\uDC7F流畅的体验";

    public static String IMG1 = null;

    public static String LINK1 = "https://developer.android.google.cn/";
    public static String LINK2 = "www.baidu.com Android 12是Google研发的操作系统，于2021年5月19日凌晨发布。\n";
    public static String LINK3 = "Android 12是Google研发的操作系统，于2021年5月19日凌晨发布。\n";

    public static String TEXT = "www.baidu.com Android 12是Google研发的操作系统，于2021年5月19日凌晨发布。 [5] \n" +
            "Android 12优化了触发问题，双击背面手势可以截取屏幕截图、召唤谷歌Assistant、打开通知栏、控制媒体播放或打开最近的应用程序列表。 [1] \n" +
            "截至2021年9月9日，Android 12已更新至Beta5。" +
            "自定义个性化\n" +
            "Android 12\n" +
            "Android 12\n" +
            "Android 12通过引入设计语言Material You，用户将能够通过自定义调色板和重新设计的小工具来完全个性化自己的手机。利用颜色提取，用户可以选择自己的壁纸，系统会自动确定适合用户的颜色设置。然后，可以将这些颜色应用于整个操作系统，包括通知栏、锁屏、音量控制、新的小工具等。 [5] \n" +
            "简化互动\n" +
            "Android 12\n" +
            "Android 12\n" +
            "Android 12简化了互动，并重新设计了整个底层系统，包括将核心系统服务所需的CPU时间减少22%，并将系统服务器对大核心的使用减少15%。 [5] \n" +
            "Android 12\n" +
            "Android 12\n" +
            "通知栏\n" +
            "Android 12的通知栏可让用户快速看到应用通知、包括目前正在收听或观看的任何内容。还支持快速设置，让用户通过滑动和点击来控制几乎所有的操作系统。快速设置空间不仅仅是外观和感觉上的不同，Google支付和家庭控制在内都已经被重新设计，同时仍然允许定制。\n";

}